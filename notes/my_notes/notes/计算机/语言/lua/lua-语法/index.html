<!doctype html><html lang=zh-cn><head><title></title>
<meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.87ecd420aa4299c8e4b21123c5360ef38ce9d1370c88559d014914f4a65e6b89.css integrity="sha256-h+zUIKpCmcjkshEjxTYO84zp0TcMiFWdAUkU9KZea4k="><link rel=icon type=image/png href=/images/favicon_hu8376fd15465fef26ffe66b6bcf0ca686_13669_42x0_resize_box_3.png><meta property="og:title" content><meta property="og:description" content="Lua 语法 #lua #编程语言
注释 单行注释 -- 单行注释 多行注释 --[[ 多行注释 多行注释 ]] 数据类型 Lua 是动态类型语言，变量不要类型定义，只需要为变量赋值
Lua 中有 8 个基本类型分别为：nil、boolean、number、string、userdata、function、thread 和 table。
数据类型 描述 nil 值nil属于该类，表示一个无效值（在条件表达式中相当于false） boolean 包含两个值：false 和 true number 表示双精度类型的实浮点数 string 字符串由一对双引号或单引号来表示 function 由 C 或 Lua 编写的函数 userdata 表示任意存储在变量中的C数据结构 thread 表示执行的独立线路，用于执行协同程序 table Lua 中的表（table）其实是一个&#34;关联数组&#34;（associative arrays），数组的索引可以是数字、字符串或表类型。在 Lua 里，table 的创建是通过&#34;构造表达式&#34;来完成，最简单构造表达式是{}，用来创建一个空表。 可以使用 type 函数测试给定变量或者值的类型：
print(type(&#34;Hello world&#34;)) print(type(10.4 * 3)) print(type(print)) print(type(type)) print(type(true)) print(type(nil)) print(type(type(X))) --[[ 输出 string number function function boolean nil string ]] 变量 在默认情况下，变量总是认为是全局的，哪怕是语句块或是函数里，除非用 local 显式声明为局部变量"><meta property="og:type" content="article"><meta property="og:url" content="https://ormissia.github.io/notes/my_notes/notes/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%AF%AD%E8%A8%80/lua/lua-%E8%AF%AD%E6%B3%95/"><meta property="article:section" content="notes"><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="Lua 语法 #lua #编程语言
注释 单行注释 -- 单行注释 多行注释 --[[ 多行注释 多行注释 ]] 数据类型 Lua 是动态类型语言，变量不要类型定义，只需要为变量赋值
Lua 中有 8 个基本类型分别为：nil、boolean、number、string、userdata、function、thread 和 table。
数据类型 描述 nil 值nil属于该类，表示一个无效值（在条件表达式中相当于false） boolean 包含两个值：false 和 true number 表示双精度类型的实浮点数 string 字符串由一对双引号或单引号来表示 function 由 C 或 Lua 编写的函数 userdata 表示任意存储在变量中的C数据结构 thread 表示执行的独立线路，用于执行协同程序 table Lua 中的表（table）其实是一个&#34;关联数组&#34;（associative arrays），数组的索引可以是数字、字符串或表类型。在 Lua 里，table 的创建是通过&#34;构造表达式&#34;来完成，最简单构造表达式是{}，用来创建一个空表。 可以使用 type 函数测试给定变量或者值的类型：
print(type(&#34;Hello world&#34;)) print(type(10.4 * 3)) print(type(print)) print(type(type)) print(type(true)) print(type(nil)) print(type(type(X))) --[[ 输出 string number function function boolean nil string ]] 变量 在默认情况下，变量总是认为是全局的，哪怕是语句块或是函数里，除非用 local 显式声明为局部变量"><script>theme=localStorage.getItem("darkmode:color-scheme")||"system",theme=="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-notes kind-page" data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/><img src=/images/ormissia_hu763a76473558eea2a316ef50b45aaecf_966068_42x0_resize_box_3.png id=logo alt=Logo>
Ormissia's Blog</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-toggle=collapse data-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=/#home>主页</a></li><li class=nav-item><a class=nav-link href=/#about>技能</a></li><li class=nav-item><a class=nav-link href=/#recent-posts>最近</a></li><li class=nav-item><a class=nav-link href=/#education>历程</a></li><li class=nav-item><a class=nav-link href=/#projects>项目</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>更多的</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a class=dropdown-item href=/#achievements>成就</a></div></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/posts>博文</a></li><li class=nav-item><a class=nav-link id=note-link href=/notes>笔记</a></li><li class=nav-item><a class=nav-link href=https://github.com/ormissia>GitHub</a></li></ul></div></div><img src=/images/ormissia_hu763a76473558eea2a316ef50b45aaecf_966068_42x0_resize_box_3.png class=d-none id=main-logo alt=Logo>
<img src=/images/ormissia_hu763a76473558eea2a316ef50b45aaecf_966068_42x0_resize_box_3.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=搜索 data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/notes data-filter=all>笔记</a></li><div class=subtree><li><i data-feather=plus-circle></i><a class=list-link href=/notes/go/> Go</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/notes/go/basic/> Basics</a><ul><li><a class=list-link href=/notes/go/basic/basic/ title=Basic>Basic</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/go/advance/> Advance</a><ul><li><a class=list-link href=/notes/go/advance/time/ title=time>time</a></li><li><a class=list-link href=/notes/go/advance/gomod/ title="go mod">go mod</a></li><li><a class=list-link href=/notes/go/advance/chan/ title="go chan">go chan</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/go/algorithm/> Algorithm</a><ul><li><a class=list-link href=/notes/go/algorithm/basic/ title=Basic>Basic</a></li></ul></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/java/> Java</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/notes/java/basic/> Basics</a><ul><li><a class=list-link href=/notes/java/basic/basic_type/ title="Basic Types">Basic Types</a></li></ul></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/scala/> Scala</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/notes/scala/basic/> Basic</a><ul><li><a class=list-link href=/notes/scala/basic/basic_type/ title="Basic Types">Basic Types</a></li></ul></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/python/> Python</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/notes/python/basic/> Basic</a><ul><li><a class=list-link href=/notes/python/basic/basic/ title=Basic>Basic</a></li></ul></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/js/> JavaScript</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/notes/js/basic/> Basic</a><ul><li><a class=list-link href=/notes/js/basic/basic/ title=Basic>Basic</a></li></ul></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/sql/> SQL</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/notes/sql/dml/> DML</a><ul><li><a class=list-link href=/notes/sql/dml/dml/ title="SQL DML">SQL DML</a></li></ul></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/linux/> Linux</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/notes/linux/shell/> Shell</a><ul><li><a class=list-link href=/notes/linux/shell/basic/ title=Basic>Basic</a></li><li><a class=list-link href=/notes/linux/shell/advance/ title=Advance>Advance</a></li><li><a class=list-link href=/notes/linux/shell/vi/ title=vi>vi</a></li><li><a class=list-link href=/notes/linux/shell/script/ title=Script>Script</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/linux/system/> System</a><ul><li><a class=list-link href=/notes/linux/system/system/ title=Memory>Memory</a></li></ul></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/hbase/> Hbase</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/notes/hbase/shell/> Shell</a><ul><li><a class=list-link href=/notes/hbase/shell/basic/ title=Basic>Basic</a></li></ul></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/notes/kafka/> Kafka</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/notes/kafka/shell/> Shell</a><ul><li><a class=list-link href=/notes/kafka/shell/basic/ title=Basic>Basic</a></li></ul></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class="content container-fluid" id=content><div class="container-fluid note-card-holder" id=note-card-holder><h1 id=lua-语法>Lua 语法</h1><p>#lua #编程语言</p><h2 id=注释>注释</h2><ul><li>单行注释</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#75715e>-- 单行注释</span>
</span></span></code></pre></div><ul><li>多行注释</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#75715e>--[[  
</span></span></span><span style=display:flex><span><span style=color:#75715e>多行注释  
</span></span></span><span style=display:flex><span><span style=color:#75715e>多行注释  
</span></span></span><span style=display:flex><span><span style=color:#75715e>]]</span>
</span></span></code></pre></div><h2 id=数据类型>数据类型</h2><blockquote><p>Lua 是动态类型语言，变量不要类型定义，只需要为变量赋值</p></blockquote><p>Lua 中有 8 个基本类型分别为：<code>nil</code>、<code>boolean</code>、<code>number</code>、<code>string</code>、<code>userdata</code>、<code>function</code>、<code>thread</code> 和 <code>table</code>。</p><table><thead><tr><th>数据类型</th><th>描述</th></tr></thead><tbody><tr><td>nil</td><td>值nil属于该类，表示一个无效值（在条件表达式中相当于false）</td></tr><tr><td>boolean</td><td>包含两个值：false 和 true</td></tr><tr><td>number</td><td>表示双精度类型的实浮点数</td></tr><tr><td>string</td><td>字符串由一对双引号或单引号来表示</td></tr><tr><td>function</td><td>由 C 或 Lua 编写的函数</td></tr><tr><td>userdata</td><td>表示任意存储在变量中的C数据结构</td></tr><tr><td>thread</td><td>表示执行的独立线路，用于执行协同程序</td></tr><tr><td>table</td><td>Lua 中的表（table）其实是一个"关联数组"（associative arrays），数组的索引可以是数字、字符串或表类型。在 Lua 里，table 的创建是通过"构造表达式"来完成，最简单构造表达式是{}，用来创建一个空表。</td></tr></tbody></table><p>可以使用 type 函数测试给定变量或者值的类型：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span>print(type(<span style=color:#e6db74>&#34;Hello world&#34;</span>))  
</span></span><span style=display:flex><span>print(type(<span style=color:#ae81ff>10.4</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>3</span>))  
</span></span><span style=display:flex><span>print(type(print))  
</span></span><span style=display:flex><span>print(type(type))  
</span></span><span style=display:flex><span>print(type(<span style=color:#66d9ef>true</span>))  
</span></span><span style=display:flex><span>print(type(<span style=color:#66d9ef>nil</span>))  
</span></span><span style=display:flex><span>print(type(type(X)))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>--[[
</span></span></span><span style=display:flex><span><span style=color:#75715e>输出
</span></span></span><span style=display:flex><span><span style=color:#75715e>string  
</span></span></span><span style=display:flex><span><span style=color:#75715e>number  
</span></span></span><span style=display:flex><span><span style=color:#75715e>function  
</span></span></span><span style=display:flex><span><span style=color:#75715e>function  
</span></span></span><span style=display:flex><span><span style=color:#75715e>boolean  
</span></span></span><span style=display:flex><span><span style=color:#75715e>nil  
</span></span></span><span style=display:flex><span><span style=color:#75715e>string  
</span></span></span><span style=display:flex><span><span style=color:#75715e>]]</span>
</span></span></code></pre></div><h2 id=变量>变量</h2><blockquote><p>在默认情况下，变量总是认为是全局的，哪怕是语句块或是函数里，除非用 local 显式声明为局部变量</p></blockquote><p>Lua 变量有三种类型：全局变量、局部变量、表中的域
变量的默认值均为 nil</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span>a <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>               <span style=color:#75715e>-- 全局变量  </span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>local</span> b <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>         <span style=color:#75715e>-- 局部变量</span>
</span></span></code></pre></div><h2 id=循环>循环</h2><h3 id=while>while</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span>a<span style=color:#f92672>=</span><span style=color:#ae81ff>10</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span>( a <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>20</span> )  
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span>  
</span></span><span style=display:flex><span>   print(<span style=color:#e6db74>&#34;a 的值为:&#34;</span>, a)  
</span></span><span style=display:flex><span>   a <span style=color:#f92672>=</span> a<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><h3 id=for>for</h3><h4 id=数值-for-循环>数值 for 循环</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#66d9ef>for</span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>1</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#66d9ef>do</span>  
</span></span><span style=display:flex><span>    print(i)  
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><blockquote><p>for 的三个表达式在循环开始前一次性求值，以后不再进行求值。比如上面的 f (x) 只会在循环开始前执行一次，其结果用在后面的循环中</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>f</span>(x)  
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;function&#34;</span>)  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> x<span style=color:#f92672>*</span><span style=color:#ae81ff>2</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>,f(<span style=color:#ae81ff>5</span>) <span style=color:#66d9ef>do</span> print(i)  
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><h4 id=泛型-for-循环>泛型 for 循环</h4><blockquote><p>i 是数组索引值，v 是对应索引的数组元素值。ipairs 是 Lua 提供的一个迭代器函数，用来迭代数组，相当于 Go 里面的 range</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#75715e>--打印数组a的所有值  </span>
</span></span><span style=display:flex><span>a <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#34;one&#34;</span>, <span style=color:#e6db74>&#34;two&#34;</span>, <span style=color:#e6db74>&#34;three&#34;</span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i, v <span style=color:#66d9ef>in</span> ipairs(a) <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>    print(i, v)
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><h3 id=repeat-until>repeat&mldr; until</h3><blockquote><p>相当于某些语言里的 <code>do...while</code></p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#75715e>--[ 变量定义 --]  </span>
</span></span><span style=display:flex><span>a <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>  
</span></span><span style=display:flex><span><span style=color:#75715e>--[ 执行循环 --]  </span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>repeat</span>  
</span></span><span style=display:flex><span>   print(<span style=color:#e6db74>&#34;a的值为:&#34;</span>, a)  
</span></span><span style=display:flex><span>   a <span style=color:#f92672>=</span> a <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>until</span>( a <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>15</span> )
</span></span></code></pre></div><h3 id=嵌套循环>嵌套循环</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span>j <span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>10</span> <span style=color:#66d9ef>do</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>for</span> j<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>,(i<span style=color:#f92672>/</span>j) , <span style=color:#ae81ff>2</span> <span style=color:#66d9ef>do</span>  
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span>(<span style=color:#f92672>not</span>(i<span style=color:#f92672>%</span>j))  
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>then</span>  
</span></span><span style=display:flex><span>         <span style=color:#66d9ef>break</span>  
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>end</span>  
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span>(j <span style=color:#f92672>&gt;</span> (i<span style=color:#f92672>/</span>j))<span style=color:#66d9ef>then</span>  
</span></span><span style=display:flex><span>         print(<span style=color:#e6db74>&#34;i 的值为：&#34;</span>,i)  
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>end</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>end</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><h3 id=循环控制语句>循环控制语句</h3><ul><li><p>break：退出当前循环或语句，并开始脚本执行紧接着的语句</p></li><li><p>goto</p></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#66d9ef>local</span> a <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>  
</span></span><span style=display:flex><span>::label:: print(<span style=color:#e6db74>&#34;--- goto label ---&#34;</span>)  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>a <span style=color:#f92672>=</span> a<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> a <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>3</span> <span style=color:#66d9ef>then</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>goto</span> label   <span style=color:#75715e>-- a 小于 3 的时候跳转到标签 label  </span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><h3 id=无限循环>无限循环</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#66d9ef>while</span>( <span style=color:#66d9ef>true</span> )  
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span>  
</span></span><span style=display:flex><span>   print(<span style=color:#e6db74>&#34;循环将永远执行下去&#34;</span>)  
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><h2 id=流程控制>流程控制</h2><h3 id=if>if</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#75715e>--[ 定义变量 --]</span>
</span></span><span style=display:flex><span>a <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>--[ 使用 if 语句 --]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span>( a <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>20</span> )
</span></span><span style=display:flex><span><span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>   <span style=color:#75715e>--[ if 条件为 true 时打印以下信息 --]</span>
</span></span><span style=display:flex><span>   print(<span style=color:#e6db74>&#34;a 小于 20&#34;</span> );
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>&#34;a 的值为:&#34;</span>, a);
</span></span></code></pre></div><h3 id=if-else>if&mldr; else</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#75715e>--[ 定义变量 --]  </span>
</span></span><span style=display:flex><span>a <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>;  
</span></span><span style=display:flex><span><span style=color:#75715e>--[ 检查条件 --]  </span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span>( a <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>20</span> )  
</span></span><span style=display:flex><span><span style=color:#66d9ef>then</span>  
</span></span><span style=display:flex><span>   <span style=color:#75715e>--[ if 条件为 true 时执行该语句块 --]  </span>
</span></span><span style=display:flex><span>   print(<span style=color:#e6db74>&#34;a 小于 20&#34;</span> )  
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>  
</span></span><span style=display:flex><span>   <span style=color:#75715e>--[ if 条件为 false 时执行该语句块 --]  </span>
</span></span><span style=display:flex><span>   print(<span style=color:#e6db74>&#34;a 大于 20&#34;</span> )  
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>  
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>&#34;a 的值为 :&#34;</span>, a)
</span></span></code></pre></div><h2 id=函数>函数</h2><p>函数定义格式：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span>optional_function_scope <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>function_name</span>( argument1, argument2, argument3..., argumentn)
</span></span><span style=display:flex><span>    function_body
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> result_params_comma_separated
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><ul><li><code>optional_function_scope</code>：该参数是可选的指定函数是全局函数还是局部函数，未设置该参数默认为全局函数，如果你需要设置函数为局部函数需要使用关键字 <code>local</code></li><li><code>function_name</code>：指定函数名称</li><li><code>argument1, argument2, argument3..., argumentn</code>：函数参数，多个参数以逗号隔开，函数也可以不带参数</li><li><code>function_body</code>：函数体，函数中需要执行的代码语句块</li><li><code>result_params_comma_separated</code>：函数返回值，Lua 语言函数可以返回多个值，每个值以逗号隔开</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#75715e>--[[ 函数返回两个值的最大值 --]]</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>max</span>(num1, num2)  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>if</span> (num1 <span style=color:#f92672>&gt;</span> num2) <span style=color:#66d9ef>then</span>  
</span></span><span style=display:flex><span>      result <span style=color:#f92672>=</span> num1;  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>else</span>  
</span></span><span style=display:flex><span>      result <span style=color:#f92672>=</span> num2;  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>end</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>return</span> result;  
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>  
</span></span><span style=display:flex><span><span style=color:#75715e>-- 调用函数  </span>
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>&#34;两值比较最大值为 &#34;</span>,max(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>4</span>))  
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>&#34;两值比较最大值为 &#34;</span>,max(<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>6</span>))
</span></span></code></pre></div><h3 id=多返回值>多返回值</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>maximum</span> (a)  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>local</span> mi <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>             <span style=color:#75715e>-- 最大值索引  </span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>local</span> m <span style=color:#f92672>=</span> a[mi]          <span style=color:#75715e>-- 最大值  </span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i,val <span style=color:#66d9ef>in</span> ipairs(a) <span style=color:#66d9ef>do</span>  
</span></span><span style=display:flex><span>       <span style=color:#66d9ef>if</span> val <span style=color:#f92672>&gt;</span> m <span style=color:#66d9ef>then</span>  
</span></span><span style=display:flex><span>           mi <span style=color:#f92672>=</span> i  
</span></span><span style=display:flex><span>           m <span style=color:#f92672>=</span> val  
</span></span><span style=display:flex><span>       <span style=color:#66d9ef>end</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>end</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> m, mi  
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>print(maximum({<span style=color:#ae81ff>8</span>,<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>23</span>,<span style=color:#ae81ff>12</span>,<span style=color:#ae81ff>5</span>}))
</span></span></code></pre></div><h3 id=可变参数>可变参数</h3><p>Lua 函数可以接受可变数目的参数，在函数参数列表中使用三点 &mldr; 表示函数有可变的参数。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>average</span>(...)  
</span></span><span style=display:flex><span>   result <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>local</span> arg<span style=color:#f92672>=</span>{...}    <span style=color:#75715e>--&gt; arg 为一个表，局部变量  </span>
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>for</span> i,v <span style=color:#66d9ef>in</span> ipairs(arg) <span style=color:#66d9ef>do</span>  
</span></span><span style=display:flex><span>      result <span style=color:#f92672>=</span> result <span style=color:#f92672>+</span> v  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>end</span>  
</span></span><span style=display:flex><span>   print(<span style=color:#e6db74>&#34;总共传入 &#34;</span> <span style=color:#f92672>..</span> <span style=color:#f92672>#</span>arg <span style=color:#f92672>..</span> <span style=color:#e6db74>&#34; 个数&#34;</span>)  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>return</span> result<span style=color:#f92672>/#</span>arg  
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>&#34;平均值为&#34;</span>,average(<span style=color:#ae81ff>10</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>3</span>,<span style=color:#ae81ff>4</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>6</span>))
</span></span></code></pre></div><h2 id=运算符>运算符</h2><h3 id=算术运算符>算术运算符</h3><table><thead><tr><th>操作符</th><th>描述</th></tr></thead><tbody><tr><td>+</td><td>加</td></tr><tr><td>-</td><td>减</td></tr><tr><td>*</td><td>乘</td></tr><tr><td>/</td><td>除</td></tr><tr><td>%</td><td>取余</td></tr><tr><td>^</td><td>乘幂</td></tr><tr><td>-</td><td>负号</td></tr><tr><td>//</td><td>整除运算符(>=lua5.3)</td></tr></tbody></table><h3 id=关系运算符>关系运算符</h3><table><thead><tr><th>操作符</th><th>描述</th></tr></thead><tbody><tr><td>==</td><td>等于</td></tr><tr><td><strong>~=</strong></td><td><strong>不等于</strong></td></tr><tr><td>></td><td>大于</td></tr><tr><td>&lt;</td><td>小于</td></tr><tr><td>>=</td><td>大于等于</td></tr><tr><td>&lt;=</td><td>小于等于</td></tr></tbody></table><h3 id=逻辑运算符>逻辑运算符</h3><table><thead><tr><th>操作符</th><th>描述</th></tr></thead><tbody><tr><td>and</td><td>逻辑与</td></tr><tr><td>or</td><td>逻辑或</td></tr><tr><td>not</td><td>逻辑非</td></tr></tbody></table><blockquote><p>这里可以实现三目运算符的操作：<code>print(a > 10 and "yes" or "no")</code></p></blockquote><h3 id=其他运算符>其他运算符</h3><table><thead><tr><th>操作符</th><th>描述</th></tr></thead><tbody><tr><td>..</td><td>连接两个字符串</td></tr><tr><td>#</td><td>返回字符串或表的长度（#&ldquo;Hello&rdquo; 返回 5）</td></tr></tbody></table><h3 id=运算符优先级>运算符优先级</h3><p>由高到低的顺序：</p><pre tabindex=0><code>^
not    - (unary)
*      /       %
+      -
..
&lt;      &gt;      &lt;=     &gt;=     ~=     ==
and
or
</code></pre><h2 id=字符串>字符串</h2><p>Lua 语言中字符串可以使用以下三种方式来表示：</p><ul><li>单引号间的一串字符</li><li>双引号间的一串字符</li><li><code>[[</code> 与 <code>]]</code> 间的一串字符</li></ul><h2 id=数组>数组</h2><p><strong>在 lua 中数组下标是从 1 开始的，有别于其他语言中从 0 开始</strong></p><h3 id=一维数组>一维数组</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span>array <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#34;Lua&#34;</span>, <span style=color:#e6db74>&#34;Tutorial&#34;</span>}  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i<span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span> <span style=color:#66d9ef>do</span>  
</span></span><span style=display:flex><span>   print(array[i])  
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><h3 id=多维数组>多维数组</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#75715e>-- 初始化数组  </span>
</span></span><span style=display:flex><span>array <span style=color:#f92672>=</span> {}  
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>3</span> <span style=color:#66d9ef>do</span>  
</span></span><span style=display:flex><span>   array[i] <span style=color:#f92672>=</span> {}  
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>for</span> j<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>3</span> <span style=color:#66d9ef>do</span>  
</span></span><span style=display:flex><span>         array[i][j] <span style=color:#f92672>=</span> i<span style=color:#f92672>*</span>j  
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>end</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>-- 访问数组  </span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>3</span> <span style=color:#66d9ef>do</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>for</span> j<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>3</span> <span style=color:#66d9ef>do</span>  
</span></span><span style=display:flex><span>      print(array[i][j])  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>end</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>联系方式:</h5><ul><li><span>QQ: </span><span>1432050813</span></li><li><a href=mailto:ormissia@outlook.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>ormissia@outlook.com</span></a></li></ul></div></div></div><hr><div class=container><p id=disclaimer><strong>免责声明:</strong> 老铁看到底了，要负责的哦</p></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2021 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.dd14ce5884a636a7014ae8dc2953b8089e2c54e6449da331e2726c712c81c910.js integrity="sha256-3RTOWISmNqcBSujcKVO4CJ4sVOZEnaMx4nJscSyByRA=" defer></script></body></html>